{"version":3,"sources":["webpack:///./templates/card.hbs","webpack:///./additianal-js/fetchImage.js","webpack:///./additianal-js/module.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","API_KEY","searchQuery","pageNumber","paginationNum","fetch","BASIC_URL","response","ok","Error","json","console","log","fetchImage","ref","gallery","document","querySelector","bigImage","onCloseModule","window","removeEventListener","onKeyPress","classList","remove","updateAttributes","src","event","code","pageCount","userInput","inputQuery","searchBtn","loadBtn","body","moduleOverlay","fetchGallery","userQuery","needScroll","scrollHeight","API","apiResponse","cards","hits","length","notification","renderGallery","scrollTo","newGallery","templateCard","insertAdjacentHTML","textErr","error","type","text","hide","delay","closer","sticker","addEventListener","value","clientHeight","add","firstChild","removeChild","lastChild","target","contains","bigSrc","dataset","source","MODULE"],"mappings":"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","file":"main.d1475010cc0e54861260.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li class=\\\"gallery-card\\\">\\r\\n            <div class=\\\"photo-card\\\">\\r\\n                <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":26},\"end\":{\"line\":5,\"column\":42}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":49},\"end\":{\"line\":5,\"column\":57}}}) : helper)))\n    + \"\\\" data-source =\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":73},\"end\":{\"line\":5,\"column\":90}}}) : helper)))\n    + \"\\\" class=\\\"card-image\\\" />\\r\\n\\r\\n                <div class=\\\"stats\\\">\\r\\n                    <p class=\\\"stats-item\\\">\\r\\n                        <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":24},\"end\":{\"line\":10,\"column\":33}}}) : helper)))\n    + \"\\r\\n                    </p>\\r\\n                    <p class=\\\"stats-item\\\">\\r\\n                        <i class=\\\"material-icons\\\">visibility</i>\\r\\n                        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":24},\"end\":{\"line\":14,\"column\":33}}}) : helper)))\n    + \"\\r\\n                    </p>\\r\\n                    <p class=\\\"stats-item\\\">\\r\\n                        <i class=\\\"material-icons\\\">comment</i>\\r\\n                        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":24},\"end\":{\"line\":18,\"column\":36}}}) : helper)))\n    + \"\\r\\n                    </p>\\r\\n                    <p class=\\\"stats-item\\\">\\r\\n                        <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":24},\"end\":{\"line\":22,\"column\":37}}}) : helper)))\n    + \"\\r\\n                    </p>\\r\\n                </div>\\r\\n            </div>\\r\\n        </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"gallery\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":4},\"end\":{\"line\":27,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"</ul>\\r\\n\\r\\n\";\n},\"useData\":true});","const API_KEY = '21313358-1d6d5867e5dc6c68143bd5df5';\r\nconst BASIC_URL = 'https://pixabay.com/api/';\r\n\r\n\r\nasync function fetchImage(searchQuery, pageNumber, paginationNum) {\r\n    try {\r\n        const response = await fetch(`${BASIC_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${pageNumber}&per_page=${paginationNum}&key=${API_KEY}`);\r\n\r\n        if (!response.ok) {\r\n            throw Error;\r\n        } else {\r\n            return (response.json());\r\n        }\r\n    } catch {\r\n        console.log('Error!')\r\n    }\r\n}\r\n\r\nexport default { fetchImage };","const ref = {\r\n    gallery: document.querySelector('.gallery'),\r\n    module: document.querySelector('.js-lightbox'),\r\n    bigImage: document.querySelector('.lightbox__image')\r\n\r\n}\r\n\r\nfunction onCloseModule() {\r\n    window.removeEventListener('keydown', onKeyPress);\r\n    ref.module.classList.remove('is-open');\r\n    updateAttributes('');\r\n}\r\n\r\nfunction updateAttributes(src) {\r\n    ref.bigImage.src = src;\r\n}\r\n\r\nfunction onKeyPress(event) {\r\n    if (event.code === \"Escape\") {\r\n        onCloseModule();\r\n    }\r\n}\r\n\r\nexport default { onCloseModule, onKeyPress, updateAttributes };","import './css/main-styles.css';\r\nimport './css/lightbox.css';\r\nimport \"@pnotify/core/dist/BrightTheme.css\";\r\nimport { error } from '@pnotify/core';\r\nimport API from './additianal-js/fetchImage.js';\r\nimport MODULE from './additianal-js/module.js';\r\nimport templateCard from './templates/card.hbs';\r\n\r\nimport InfiniteScroll from 'infinite-scroll';\r\n\r\n\r\nlet pageCount = 1;\r\nlet userInput = '';\r\n\r\n\r\nconst PAGINATION_NUMBER = 12;\r\nconst ref = {\r\n    container: document.querySelector('.container'),\r\n    inputQuery: document.querySelector('input'),\r\n    gallery: document.querySelector('.gallery'),\r\n    searchBtn: document.querySelector('.search-btn'),\r\n    loadBtn: document.querySelector('.load-more'),\r\n    body: document.querySelector('body'),\r\n    module: document.querySelector('.js-lightbox'),\r\n    moduleOverlay: document.querySelector('.lightbox__overlay')\r\n}\r\n\r\n\r\n\r\nref.searchBtn.addEventListener('click', searchImg);\r\nref.loadBtn.addEventListener('click', nextPage);\r\nref.inputQuery.addEventListener('input', clearGallery);\r\nref.gallery.addEventListener('click', onGalleryClick);\r\nref.moduleOverlay.addEventListener('click', MODULE.onCloseModule);\r\n\r\n\r\n\r\n\r\n\r\nfunction onGalleryClick(event) {\r\n    if (!event.target.classList.contains('card-image')) {\r\n        return;\r\n    }\r\n    const focusImg = event.target;\r\n    const bigSrc = focusImg.dataset.source;\r\n\r\n    ref.module.classList.add('is-open');\r\n\r\n    MODULE.updateAttributes(bigSrc);\r\n    window.addEventListener('keydown', MODULE.onKeyPress);\r\n}\r\n\r\n\r\nfunction searchImg() {\r\n    userInput = ref.inputQuery.value;\r\n    if (!userInput) {\r\n        return;\r\n    }\r\n    fetchGallery(userInput, pageCount, false, 0);\r\n}\r\n\r\nfunction nextPage() {\r\n    pageCount += 1;\r\n    const scrollHeight = ref.body.clientHeight;\r\n    fetchGallery(userInput, pageCount, true, scrollHeight);\r\n}\r\n\r\nfunction clearGallery() {\r\n    ref.loadBtn.classList.add('is-hidden');\r\n    pageCount = 1;\r\n    while (ref.gallery.firstChild) {\r\n        ref.gallery.removeChild(ref.gallery.lastChild);\r\n    }\r\n}\r\n\r\nasync function fetchGallery(userQuery, pageNumber, needScroll, scrollHeight) {\r\n    try {\r\n        const apiResponse = await API.fetchImage(userQuery, pageNumber, PAGINATION_NUMBER);\r\n        console.log(apiResponse);\r\n        const cards = apiResponse.hits;\r\n        if (cards.length === 0) {\r\n            notification('No results');\r\n            return;\r\n        }\r\n        if (cards.length === PAGINATION_NUMBER) {\r\n            ref.loadBtn.classList.remove('is-hidden');\r\n        }\r\n        renderGallery(cards);\r\n\r\n        if (needScroll) {\r\n\r\n            window.scrollTo(0, scrollHeight);\r\n\r\n        }\r\n    } catch {\r\n        notification(\"Sorry, there is some error.\");\r\n    }\r\n\r\n}\r\n\r\nfunction renderGallery(cards) {\r\n    const newGallery = templateCard([...cards]);\r\n    ref.gallery.insertAdjacentHTML('beforeend', newGallery);\r\n}\r\n\r\nfunction notification(textErr) {\r\n    error({\r\n        type: 'error',\r\n        text: textErr,\r\n        hide: true,\r\n        delay: '500',\r\n        closer: false,\r\n        sticker: false\r\n    });\r\n}"],"sourceRoot":""}